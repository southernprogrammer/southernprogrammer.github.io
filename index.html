<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Bryan Price</title>
        <link rel="stylesheet" href="http://bryanprice.net/theme/css/custom.css" />
        <link href="http://bryanprice.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Bryan Price Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://bryanprice.net/">Bryan Price </a></h1>
                <nav><ul>
    
                        <li><a href="http://bryanprice.net/pages/about.html">About</a></li>
    
                        <li><a href="http://bryanprice.net/pages/coding-projects.html">Coding Projects</a></li>
                </ul>
                </nav>
<div id="submenu">
                    <ul>
                            <li><a href="http://bryanprice.net/category/blog.html">Blog</a></li>
                            <li><a href="http://bryanprice.net/category/project-updates.html">Project Updates</a></li>
                    </ul>
                <div>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://bryanprice.net/python-orderby-thenby.html">Python OrderBy ThenBy</a></h1>
<footer class="post-info">
        <span>Sat 05 May 2018</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>
<span>| tags: <a href="http://bryanprice.net/tag/python.html">python</a></span>
</footer><!-- /.post-info --><p>The other day I found a bug in a python file I had written. I ordered a list by two attributes descending, when I really
wanted to order the list by one attribute descending and the other ascending.</p>
<p>For reference, I started off with something similar to the following code.
I'm using tuples here instead of attributes off of an object, but the premise remains.</p>
<div class="highlight"><pre><span></span><span class="n">lst</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="n">lst</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># if using an object the line would look similar to this lst.sort(key=lambda x: (x.first_attribute, x.second_attribute), reverse=True)</span>
</pre></div>
<p>This is all fine, great, and wonderful, but I really needed to sort by the first attribute descending and the second ascending.
So how do we accomplish this? We use cmp on the sort. A compare function takes 2 parameters and returns an integer.
If the integer is negative, the sort knows that the first item is should be favored,
if 0 it should favor neither, and if positive the second item should be favored.</p>
<div class="highlight"><pre><span></span><span class="n">lst</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="n">lst</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="nb">cmp</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
<p>If you aren't familiar with lambda's they are just functions that take in parameters and no return statement is needed.
Everything right of the colon is returned. So what's going on here? Well if the first values are equal and x
is less than y (x[1]-y[1] &lt; 0) we favor x (ascending). Otherwise we just compare y[0] and x[0].</p>
<p>What about Python 3.0? It doesn't support cmp, but don't worry there's a workaround. If you are in Python 3.2 you can utilize
a method called functools.cmp_to_key(). If you are between 3.0 and 3.2, you will have to implement the method yourself.
See <a class="reference external" href="https://docs.python.org/3/howto/sorting.html">https://docs.python.org/3/howto/sorting.html</a>.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>
<span class="n">lst</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="n">lst</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">functools</span><span class="o">.</span><span class="n">cmp_to_key</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
<p>The key variable is also available in Python 2, but there you will probably just use it as it's meant to be used:
to tell what the key of your sort is.</p>
<p>So how would you compare strings? You should use locale.strcoll</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">locale</span>
<span class="n">lst</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="n">lst</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">functools</span><span class="o">.</span><span class="n">cmp_to_key</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span>  <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="n">locale</span><span class="o">.</span><span class="n">strcoll</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
</pre></div>
<p>In C# it's really easy to do this kind of thing. Linq has an OrderBy, OrderByDescending, ThenBy, and ThenByDescending methods.
But even though it's not as easy to do this in python, it's not really that difficult.</p>
<p><a href="http://bryanprice.net/python-orderby-thenby.html#disqus_thread">comments</a></p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://bryanprice.net/pycharm-live-templates.html" rel="bookmark"
                           title="Permalink to PyCharm Live Templates">PyCharm Live Templates</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Sat 05 May 2018</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>
<span>| tags: <a href="http://bryanprice.net/tag/pycharm.html">Pycharm</a></span>
</footer><!-- /.post-info -->                <p class="first last">I discuss PyCharm's Live Templates functionality and Code Templates.</p>

                <a class="readmore" href="http://bryanprice.net/pycharm-live-templates.html">read more</a>
<p><a href="http://bryanprice.net/pycharm-live-templates.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://bryanprice.net/python-partials.html" rel="bookmark"
                           title="Permalink to Python Partials">Python Partials</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Mon 02 May 2016</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>
<span>| tags: <a href="http://bryanprice.net/tag/python.html">Python</a></span>
</footer><!-- /.post-info -->                <p class="first last">I discuss the usefulness of Partials in Python</p>

                <a class="readmore" href="http://bryanprice.net/python-partials.html">read more</a>
<p><a href="http://bryanprice.net/python-partials.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://bryanprice.net/python-magic-functions.html" rel="bookmark"
                           title="Permalink to Python Magic Functions">Python Magic Functions</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Thu 07 May 2015</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>
<span>| tags: <a href="http://bryanprice.net/tag/python.html">Python</a></span>
</footer><!-- /.post-info -->                <p>Python has many magic functions that will allow your classes to do all
kinds of fun stuff. You may want your object to act like a dictionary,
or a list, you may want to make sure str() prints your object a certain
way, or you may want to override operators …</p>
                <a class="readmore" href="http://bryanprice.net/python-magic-functions.html">read more</a>
<p><a href="http://bryanprice.net/python-magic-functions.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://bryanprice.net/python-list-comprehension-and-sets.html" rel="bookmark"
                           title="Permalink to Python List Comprehension and Sets">Python List Comprehension and Sets</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Thu 29 January 2015</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>
<span>| tags: <a href="http://bryanprice.net/tag/python.html">Python</a></span>
</footer><!-- /.post-info -->                <p>I work for a company that does GIS work, and over the past week or so
I've been working on a script that does a lot of different things. One
of it's subroutines deletes data from Oracle.</p>
<p>First I was told (or I interpreted) it was safe to delete everything …</p>
                <a class="readmore" href="http://bryanprice.net/python-list-comprehension-and-sets.html">read more</a>
<p><a href="http://bryanprice.net/python-list-comprehension-and-sets.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://bryanprice.net/intellij-and-android.html" rel="bookmark"
                           title="Permalink to IntelliJ and Android">IntelliJ and Android</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Thu 14 March 2013</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>

</footer><!-- /.post-info -->                <p>I've been enjoying IntelliJ for android development. Here's a video on
setting up a project. At some point I'd like to do a video talking about
some gotchas that I've found. Until then, just enjoy this:</p>
<div class="youtube youtube-16x9"><iframe src="https://www.youtube.com/embed/y-WLXExDcTg" allowfullscreen seamless frameBorder="0"></iframe></div>
                <a class="readmore" href="http://bryanprice.net/intellij-and-android.html">read more</a>
<p><a href="http://bryanprice.net/intellij-and-android.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://bryanprice.net/the-story-of-node-js.html" rel="bookmark"
                           title="Permalink to The Story of Node.js">The Story of Node.js</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Thu 28 February 2013</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>
<span>| tags: <a href="http://bryanprice.net/tag/video.html">Video</a></span>
</footer><!-- /.post-info -->                <div class="youtube youtube-16x9"><iframe src="https://www.youtube.com/embed/SAc0vQCC6UQ" allowfullscreen seamless frameBorder="0"></iframe></div>
                <a class="readmore" href="http://bryanprice.net/the-story-of-node-js.html">read more</a>
<p><a href="http://bryanprice.net/the-story-of-node-js.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://bryanprice.net/wpf-uppercase-autocomplete.html" rel="bookmark"
                           title="Permalink to WPF Uppercase AutoComplete">WPF Uppercase AutoComplete</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Fri 10 August 2012</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>

</footer><!-- /.post-info -->                <p>One of our clients wants uppercase characters in all of there inputs.
Unfortunately System.Windows.Controls.AutoCompleteBox doesn't support
the CharacterCasing option that is on a standard text box. My solution
is to simply inherit from AutoCompleteBox and after the template has
been applied grab the text box that is …</p>
                <a class="readmore" href="http://bryanprice.net/wpf-uppercase-autocomplete.html">read more</a>
<p><a href="http://bryanprice.net/wpf-uppercase-autocomplete.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://bryanprice.net/give-camp-birmingham.html" rel="bookmark"
                           title="Permalink to Give Camp Birmingham">Give Camp Birmingham</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Sat 29 January 2011</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>
<span>| tags: <a href="http://bryanprice.net/tag/charity.html">Charity</a><a href="http://bryanprice.net/tag/give-camp.html">Give Camp</a><a href="http://bryanprice.net/tag/video.html">Video</a></span>
</footer><!-- /.post-info -->                <p>Recently I went to Give Camp in Birmingham.&nbsp; It’s an event sponsored by
Microsoft for developers to join together to help non-profits and
charities.&nbsp; Developers spend the weekend developing software or creating
web sites that the organization needs.&nbsp; It was a lot of fun and here is
a promotional …</p>
                <a class="readmore" href="http://bryanprice.net/give-camp-birmingham.html">read more</a>
<p><a href="http://bryanprice.net/give-camp-birmingham.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://bryanprice.net/mono-zeroconf-on-windows.html" rel="bookmark"
                           title="Permalink to Mono Zeroconf on Windows">Mono Zeroconf on Windows</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Sat 29 January 2011</span>
	        <span>| in <a href="http://bryanprice.net/category/project-updates.html">Project Updates</a></span>
<span>| tags: <a href="http://bryanprice.net/tag/net.html">.NET</a><a href="http://bryanprice.net/tag/apple.html">Apple</a><a href="http://bryanprice.net/tag/bonjour.html">Bonjour</a><a href="http://bryanprice.net/tag/ccs.html">CCS</a><a href="http://bryanprice.net/tag/java.html">Java</a><a href="http://bryanprice.net/tag/mono.html">Mono</a><a href="http://bryanprice.net/tag/windows.html">Windows</a><a href="http://bryanprice.net/tag/zeroconf.html">Zeroconf</a></span>
</footer><!-- /.post-info -->                <p>If you know anything about my classroom control system that I built, you
know that the project requires Bonjour.&nbsp; This is the technology Apple
uses to help you share your music on a network.&nbsp; Computers discover one
another by publishing their address on a multicast port.&nbsp; Because the
port is …</p>
                <a class="readmore" href="http://bryanprice.net/mono-zeroconf-on-windows.html">read more</a>
<p><a href="http://bryanprice.net/mono-zeroconf-on-windows.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 2
        <a href="http://bryanprice.net/index2.html">&raquo;</a>
</p>
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://joshuarogers.net">Joshua Rogers</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://bryanprice.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="http://twitter.com/southrnprogrmmr">Twitter</a></li>
                            <li><a href="https://github.com/southernprogrammer">Github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'bryanpricenet';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>