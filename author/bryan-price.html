<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Bryan Price - Bryan Price</title>
        <link rel="stylesheet" href="http://bryanprice.net/theme/css/custom.css" />
        <link href="http://bryanprice.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Bryan Price Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://bryanprice.net/">Bryan Price </a></h1>
                <nav><ul>
    
                        <li><a href="http://bryanprice.net/pages/about.html">About</a></li>
    
                        <li><a href="http://bryanprice.net/pages/coding-projects.html">Coding Projects</a></li>
                </ul>
                </nav>
<div id="submenu">
                    <ul>
                            <li><a href="http://bryanprice.net/category/blog.html">Blog</a></li>
                            <li><a href="http://bryanprice.net/category/project-updates.html">Project Updates</a></li>
                    </ul>
                <div>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://bryanprice.net/pycharm-live-templates.html">PyCharm Live Templates</a></h1>
<footer class="post-info">
        <span>Sat 05 May 2018</span>
	        <span>| in <a href="http://bryanprice.net/category/blog.html">Blog</a></span>
<span>| tags: <a href="http://bryanprice.net/tag/pycharm.html">Pycharm</a></span>
</footer><!-- /.post-info --><p>So sometime last year I found myself writing a lot of repetitive code. First of all, I have to write python toolboxes for work.
A python toolbox is a python file with the extension .pyt. It is used in ESRI's ArcMap and ArcCatalog programs.
When writing a python toolbox file in PyCharm, it's best to start with a skeleton template because the toolbox must
adhere to a given format.</p>
<p>Before we create the template, I would advise setting PyCharm to recognize the file extension .pyt as a python file.
To do this go to the File-&gt;Settings on Windows or PyCharm-&gt;Preferences on macOS.
Search for file types in the search bar in the upper left hand corner and add *.pyt under the Python group.</p>
<img alt="" src="images/new_file_type.png" style="width: 100%;" />
<p>Now go to Settings-&gt;Editor-&gt;File and Code Templates and create your PythonToolbox template with the extension pyt.</p>
<img alt="" src="images/pyt_code_template.png" style="width: 100%;" />
<p>Here is the code to paste into the template.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">arcpy</span>


<span class="k">class</span> <span class="nc">Toolbox</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Define the toolbox (the name of the toolbox is the name of the</span>
<span class="sd">        .pyt file).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Toolbox&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alias</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># List of tool classes associated with this toolbox</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools</span> <span class="o">=</span> <span class="p">[</span><span class="n">Tool</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Tool</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Define the tool (tool name is the name of the class).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Tool&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canRunInBackground</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">getParameterInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Define parameter definitions&quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">return</span> <span class="n">params</span>

    <span class="k">def</span> <span class="nf">isLicensed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set whether tool is licensed to execute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">updateParameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Modify the values and properties of parameters before internal</span>
<span class="sd">        validation is performed.  This method is called whenever a parameter</span>
<span class="sd">        has been changed.&quot;&quot;&quot;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">updateMessages</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Modify the messages created by internal validation for each tool</span>
<span class="sd">        parameter.  This method is called after internal validation.&quot;&quot;&quot;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">messages</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The source code of the tool.&quot;&quot;&quot;</span>
        <span class="k">return</span>
</pre></div>
<p>Now you can create a new file and PythonToolbox is an option. When you create the new file it will have this text as
the skeleton.</p>
<p>Something else that I found useful is PyCharm's live templates. Live templates give the ability to type a few letters,
hit tab and then fill out some code. If you have PyCharm give it a try, just type iter then press tab in a python file.
You should see something like this:</p>
<img alt="" src="images/iter_live_template1.PNG" style="width: 500px;" />
<p>Hit tab and you will see this</p>
<img alt="" src="images/iter_live_template2.PNG" style="width: 500px;" />
<p>You can then fill out the template by typing in variable names and hitting tab to go to the next place in the template.</p>
<p>So now that you know what a live template is, wouldn't it be handy to make your own? We are going to make a live template
for python toolboxes to make it easier to fill in arcpy.Parameter values. First, let's make a Live Template Group to organize
all of our PythonToolbox live templates.
You can do this by going to Settigns-&gt;Editor-&gt;Live Template and clicking the red plus on the right hand side and choosing to create a new group.
I aptly named my group PythonToolbox.</p>
<img alt="" src="images/live_template_group.png" style="width: 100%;" />
<p>Next create a new live template in the group. You will be asked for an abbreviation (this is what you will type to be auto-completed like iter from my previous example).
You will also be asked for a description to explain what it is, and then you will create the template.</p>
<p>I set my abbreviation up as &quot;aparam&quot; with the description of &quot;Arcpy Parameter&quot;. I used this as the template:</p>
<pre class="literal-block">
$VAR$ = arcpy.Parameter(displayName=&quot;$DISPLAY$&quot;,name=&quot;$NAME$&quot;,datatype=&quot;$DATATYPE$&quot;,parameterType=&quot;$PARAM_TYPE$&quot;,direction=&quot;$DIRECTION$&quot;,multiValue=$MULTIVALUE$)
</pre>
<p>If you notice, everything with $ surrounding it is a variable.  If you choose &quot;Edit Variable&quot; you can set valid values for each variable (using enum) and a default value.</p>
<img alt="" src="images/live_template_setup.PNG" style="width: 100%;" />
<p>Before you save the template make sure you set where the template is applicable. In the image above you should see a &quot;Change&quot; button near the bottom.
When you are first creating the template you will get a warning that there are not contexts currently setup and the button will read &quot;Define&quot;. I chose to make this template show up in python classes, and other (so anywhere in a python file).</p>
<p>One last thing: If you want to share a live template you can right click it and choose &quot;copy&quot;. Someone else can just paste in the value into their IDE.</p>
<p>So here is the live template that I created.</p>
<pre class="literal-block">
&lt;template name=&quot;aparam&quot; value=&quot;$VAR$ = arcpy.Parameter(displayName=&amp;quot;$DISPLAY$&amp;quot;,name=&amp;quot;$NAME$&amp;quot;,datatype=&amp;quot;$DATATYPE$&amp;quot;,parameterType=&amp;quot;$PARAM_TYPE$&amp;quot;,direction=&amp;quot;$DIRECTION$&amp;quot;,multiValue=$MULTIVALUE$) &quot; description=&quot;Arcpy Parameter&quot; toReformat=&quot;true&quot; toShortenFQNames=&quot;true&quot;&gt;
  &lt;variable name=&quot;VAR&quot; expression=&quot;&quot; defaultValue=&quot;&quot; alwaysStopAt=&quot;true&quot; /&gt;
  &lt;variable name=&quot;DISPLAY&quot; expression=&quot;&quot; defaultValue=&quot;&quot; alwaysStopAt=&quot;true&quot; /&gt;
  &lt;variable name=&quot;NAME&quot; expression=&quot;&quot; defaultValue=&quot;&quot; alwaysStopAt=&quot;true&quot; /&gt;
  &lt;variable name=&quot;DATATYPE&quot; expression=&quot;enum(&amp;quot;DEAddressLocator&amp;quot;,&amp;quot;GPAddressLocatorStyle&amp;quot;,&amp;quot;analysis_cell_size&amp;quot;,&amp;quot;GPType&amp;quot;,&amp;quot;DEMapDocument&amp;quot;,&amp;quot;GPArealUnit&amp;quot;,&amp;quot;GPBoolean&amp;quot;,&amp;quot;DECadDrawingDataset&amp;quot;,&amp;quot;GPCalculatorExpression&amp;quot;,&amp;quot;DECatalogRoot&amp;quot;,&amp;quot;GPSACellSize&amp;quot;,&amp;quot;GPCellSizeXY&amp;quot;,&amp;quot;GPCompositeLayer&amp;quot;,&amp;quot;GPSAGDBEnvCompression&amp;quot;,&amp;quot;GPCoordinateSystem&amp;quot;,&amp;quot;DESpatialReferencesFolder&amp;quot;,&amp;quot;DECoverage&amp;quot;,&amp;quot;DECoverageFeatureClasses&amp;quot;,&amp;quot;DEType&amp;quot;,&amp;quot;GPDataFile&amp;quot;,&amp;quot;DERemoteDatabaseFolder&amp;quot;,&amp;quot;DEDatasetType&amp;quot;,&amp;quot;GPDate&amp;quot;,&amp;quot;DEDbaseTable&amp;quot;,&amp;quot;GP3DADecimate&amp;quot;,&amp;quot;DEDiskConnection&amp;quot;,&amp;quot;GPDouble&amp;quot;,&amp;quot;GPEncryptedString&amp;quot;,&amp;quot;GPEnvelope&amp;quot;,&amp;quot;GPEvaluationScale&amp;quot;,&amp;quot;GPExtent&amp;quot;,&amp;quot;GPSAExtractValues&amp;quot;,&amp;quot;DEFeatureClass&amp;quot;,&amp;quot;DEFeatureDataset&amp;quot;,&amp;quot;GPFeatureLayer&amp;quot;,&amp;quot;GPFeatureRecordSetLayer&amp;quot;,&amp;quot;Field&amp;quot;,&amp;quot;GPFieldInfo&amp;quot;,&amp;quot;GPFieldMapping&amp;quot;,&amp;quot;DEFile&amp;quot;,&amp;quot;DEFolder&amp;quot;,&amp;quot;GPRasterFormulated&amp;quot;,&amp;quot;GPSAFuzzyFunction&amp;quot;,&amp;quot;DEGeodatasetType&amp;quot;,&amp;quot;DEGeoDataServer&amp;quot;,&amp;quot;DEGeometricNetwork&amp;quot;,&amp;quot;GPGALayer&amp;quot;,&amp;quot;GPGASearchNeighborhood&amp;quot;,&amp;quot;GPGAValueTable&amp;quot;,&amp;quot;DEGlobeServer&amp;quot;,&amp;quot;DEGPServer&amp;quot;,&amp;quot;GPGraph&amp;quot;,&amp;quot;GPGraphDataTable&amp;quot;,&amp;quot;GPGroupLayer&amp;quot;,&amp;quot;GPSAHorizontalFactor&amp;quot;,&amp;quot;DEImageServer&amp;quot;,&amp;quot;Index&amp;quot;,&amp;quot;GPINFOExpression&amp;quot;,&amp;quot;GPArcInfoItem&amp;quot;,&amp;quot;DEArcInfoTable&amp;quot;,&amp;quot;DELasDataset&amp;quot;,&amp;quot;GPLasDatasetLayer&amp;quot;,&amp;quot;GPLayer&amp;quot;,&amp;quot;DELayer&amp;quot;,&amp;quot;GPLine&amp;quot;,&amp;quot;GPLinearUnit&amp;quot;,&amp;quot;GPLong&amp;quot;,&amp;quot;GPMDomain&amp;quot;,&amp;quot;DEMapServer&amp;quot;,&amp;quot;DEMosaicDataset&amp;quot;,&amp;quot;GPMosaicLayer&amp;quot;,&amp;quot;GPSANeighborhood&amp;quot;,&amp;quot;NAClassFieldMap&amp;quot;,&amp;quot;GPNAHierarchySettings&amp;quot;,&amp;quot;GPNALayer&amp;quot;,&amp;quot;DENetworkDataset&amp;quot;,&amp;quot;GPNetworkDatasetLayer&amp;quot;,&amp;quot;DECadastralFabric&amp;quot;,&amp;quot;GPCadastralFabricLayer&amp;quot;,&amp;quot;GPPoint&amp;quot;,&amp;quot;GPPolygon&amp;quot;,&amp;quot;DEPrjFile&amp;quot;,&amp;quot;GPSAGDBEnvPyramid&amp;quot;,&amp;quot;GPSARadius&amp;quot;,&amp;quot;GPRandomNumberGenerator&amp;quot;,&amp;quot;DERasterBand&amp;quot;,&amp;quot;GPRasterCalculatorExpression&amp;quot;,&amp;quot;DERasterCatalog&amp;quot;,&amp;quot;GPRasterCatalogLayer&amp;quot;,&amp;quot;GPRasterDataLayer&amp;quot;,&amp;quot;DERasterDataset&amp;quot;,&amp;quot;GPRasterLayer&amp;quot;,&amp;quot;GPSAGDBEnvStatistics&amp;quot;,&amp;quot;GPRasterBuilder&amp;quot;,&amp;quot;GPRecordSet&amp;quot;,&amp;quot;DERelationshipClass&amp;quot;,&amp;quot;GPSARemap&amp;quot;,&amp;quot;GPRouteMeasureEventProperties&amp;quot;,&amp;quot;DESchematicDataset&amp;quot;,&amp;quot;DESchematicDiagram&amp;quot;,&amp;quot;DESchematicFolder&amp;quot;,&amp;quot;GPSchematicLayer&amp;quot;,&amp;quot;GPSASemiVariogram&amp;quot;,&amp;quot;DEServerConnection&amp;quot;,&amp;quot;DEShapefile&amp;quot;,&amp;quot;GPSpatialReference&amp;quot;,&amp;quot;GPSQLExpression&amp;quot;,&amp;quot;GPString&amp;quot;,&amp;quot;GPStringHidden&amp;quot;,&amp;quot;DETable&amp;quot;,&amp;quot;GPTableView&amp;quot;,&amp;quot;GPTerrainLayer&amp;quot;,&amp;quot;DETextfile&amp;quot;,&amp;quot;GPSAGDBEnvTileSize&amp;quot;,&amp;quot;GPSATimeConfiguration&amp;quot;,&amp;quot;DETin&amp;quot;,&amp;quot;GPTinLayer&amp;quot;,&amp;quot;DETool&amp;quot;,&amp;quot;DEToolbox&amp;quot;,&amp;quot;GPSATopoFeatures&amp;quot;,&amp;quot;DETopology&amp;quot;,&amp;quot;GPTopologyLayer&amp;quot;,&amp;quot;GPValueTable&amp;quot;,&amp;quot;GPVariant&amp;quot;,&amp;quot;GPSAVerticalFactor&amp;quot;,&amp;quot;DEVPFCoverage&amp;quot;,&amp;quot;DEVPFTable&amp;quot;,&amp;quot;DEWCSCoverage&amp;quot;,&amp;quot;GPSAWeightedOverlayTable&amp;quot;,&amp;quot;GPSAWeightedSum&amp;quot;,&amp;quot;DEWMSMap&amp;quot;,&amp;quot;DEWorkspace&amp;quot;,&amp;quot;GPXYDomain&amp;quot;,&amp;quot;GPZDomain&amp;quot;)&quot; defaultValue=&quot;&quot; alwaysStopAt=&quot;true&quot; /&gt;
  &lt;variable name=&quot;PARAM_TYPE&quot; expression=&quot;enum(&amp;quot;Required&amp;quot;, &amp;quot;Optional&amp;quot;)&quot; defaultValue=&quot;Required&quot; alwaysStopAt=&quot;true&quot; /&gt;
  &lt;variable name=&quot;DIRECTION&quot; expression=&quot;enum(&amp;quot;Input&amp;quot;,&amp;quot;Output&amp;quot;)&quot; defaultValue=&quot;Input&quot; alwaysStopAt=&quot;true&quot; /&gt;
  &lt;variable name=&quot;MULTIVALUE&quot; expression=&quot;enum(&amp;quot;True&amp;quot;, &amp;quot;False&amp;quot;)&quot; defaultValue=&quot;False&quot; alwaysStopAt=&quot;true&quot; /&gt;
  &lt;context&gt;
    &lt;option name=&quot;Python&quot; value=&quot;true&quot; /&gt;
  &lt;/context&gt;
&lt;/template&gt;
</pre>
<p>Enjoy!</p>
<p><a href="http://bryanprice.net/pycharm-live-templates.html#disqus_thread">comments</a></p>                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://joshuarogers.net">Joshua Rogers</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://bryanprice.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="http://twitter.com/southrnprogrmmr">Twitter</a></li>
                            <li><a href="https://github.com/southernprogrammer">Github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'bryanpricenet';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>